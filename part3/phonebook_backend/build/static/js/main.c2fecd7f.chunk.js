(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{40:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var c=t(16),o=t.n(c),a=t(3),r=t(2),u=t(0),i=function(e){var n=e.filter,t=e.onFilterChange;return Object(u.jsxs)("div",{children:["filter shown with: ",Object(u.jsx)("input",{value:n,onChange:t})]})},l=function(e){var n=e.newName,t=e.newNumber,c=e.handleNameChange,o=e.handleNumberChange,a=e.handleSubmit;return Object(u.jsxs)("form",{onSubmit:a,children:[Object(u.jsxs)("div",{children:["name:"," ",Object(u.jsx)("input",{value:n,onChange:c,placeholder:"name"})]}),Object(u.jsxs)("div",{children:["number:"," ",Object(u.jsx)("input",{value:t,onChange:o,placeholder:"number"})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"add"})})]})},s=function(e){var n=e.person,t=e.handleDlete;return Object(u.jsxs)("li",{className:"person",children:[n.name," ",n.number,Object(u.jsx)("button",{onClick:t,children:"delete"})]},n.name)},d=function(e){var n=e.notification;return null===n?null:Object(u.jsx)("div",{className:n.type,children:n.message})},j=t(4),b=t.n(j),h="/api/persons",f={getAll:function(){return b.a.get(h)},create:function(e){return b.a.post(h,e)},update:function(e,n){return b.a.put("".concat(h,"/").concat(e),n)},remove:function(e){return b.a.delete("".concat(h,"/").concat(e))}},m=function(){var e=Object(r.useState)([]),n=Object(a.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)(""),j=Object(a.a)(o,2),b=j[0],h=j[1],m=Object(r.useState)(""),O=Object(a.a)(m,2),p=O[0],v=O[1],g=Object(r.useState)(""),x=Object(a.a)(g,2),w=x[0],C=x[1],N=Object(r.useState)(null),S=Object(a.a)(N,2),k=S[0],D=S[1];Object(r.useEffect)((function(){f.getAll().then((function(e){c(e.data)})).catch((function(e){console.log(e)}))}),[]),console.log("persons:",t);var y=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";D({message:e,type:n}),setTimeout((function(){D(null)}),5e3)};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)(d,{notification:k}),Object(u.jsx)(i,{filter:w,onFilterChange:function(e){C(e.target.value)}}),Object(u.jsx)("h3",{children:"add a new"}),Object(u.jsx)(l,{newName:b,newNumber:p,handleNameChange:function(e){h(e.target.value)},handleNumberChange:function(e){v(e.target.value)},handleSubmit:function(e){e.preventDefault();var n={name:b,number:p};f.create(n).then((function(e){c(t.concat(e.data)),y("Added ".concat(b))})).catch((function(e){console.log(e.response.data),y("error: ".concat(e.response.data),"error")})),h(""),v("")}}),Object(u.jsx)("h3",{children:"Numbers"}),t.filter((function(e){return e.name.toLowerCase().includes(w.toLowerCase())})).map((function(e){return Object(u.jsx)(s,{person:e,handleDlete:function(){return function(e){var n=t.find((function(n){return n.id===e}));console.log(n),window.confirm("Delete ".concat(n.name,"?"))&&(c(t.filter((function(n){return n.id!==e}))),y("Deleted ".concat(n.name)),f.remove(e).then((function(e){console.log(e)})).catch((function(e){console.log(e)})))}(e.id)}},e.id)}))]})};t(40);o.a.render(Object(u.jsx)(m,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.c2fecd7f.chunk.js.map